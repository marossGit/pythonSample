# stockForecastDisp_portfolio.md

## モデル概要

日経平均補正付き理論株価予測モデルによる、自己資本、利益、日経平均の連動性を利用した理論株価算定アルゴリズムです。

---

## ロジック概要

下記の関係式をもとに、最小二乗法でパラメータ a, b を探索し、最新の資料で理論株価を推定します：

```
理論株価 = (a × 自己資本 + b × 利益) × 日経平均補正系数
```

- 日経平均補正系数 = `NIKKEI当月 / NIKKEI直近3ヶ月平均`
- データ単位は儀数化温度を考慮し、1e8 で分数化

---

## モジュール構成

- `get_average_nikkei_last_3months()`
  - 直近 3ヶ月の日経平均を算出

- `solveB(j, r=1.0)`
  - 過去2期分の資料からa, bを探索
  - 日経平均の平均補正付き

- `getForecastPrice2(r=1.0)`
  - 最新資料を先順に理論株価を算出

---

## 特徴

- 基本的な経済指標 (自己資本, 利益)の合成による買放判断
- 日経平均やマーケット連動性を補正型で反映
- データの変化に対する頻繁な更新が必要なモデルのテスト用に適する

---

## 注意

- 最新の日経データや資本情報を反映させるため、`monthly_data` や `qData` は常に更新すること
- 利益は `OrdinaryProfit`、もしくは缺如時は`Profit`から検出
- `solveB()`でいい値が得られない場合は`None`を返すので仕様の耐性給者の確認が必要

---

## メモ

- 未来の価格見通しや、創造値算定のベースラインとして法人投資家にも適用可能
- もともしくはバリュー評価やチャート指数と合わせて実用することも検討値

